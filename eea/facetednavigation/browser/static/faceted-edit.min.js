!function(){var e={610:function(){var e;(e=void 0!==window.FacetedEdit?window.FacetedEdit:window.FacetedEdit={version:"15.0"}).loading='<div class="faceted_loading"></div>',e.Widgets={},e.BASEURL="",e.Events={},e.Events.RELOAD_WIDGETS="FACETEDEDIT-RELOAD-WIDGETS",e.Events.INITIALIZE_WIDGETS="FACETEDEDIT-INITIALIZE-WIDGETS",e.Events.POSITION_UPDATED="FACETEDEDIT-POSITION-UPDATED",e.Events.WINDOW_WIDTH_CHANGED="FACETEDEDIT-WINDOW-WIDTH-CHANGED",e.Events.WINDOW_HEIGHT_CHANGED="FACETEDEDIT-WINDOW-HEIGHT-CHANGED",e.Events.AJAX_START="FACETEDEDIT-AJAX-START",e.Events.AJAX_STOP="FACETEDEDIT-AJAX-STOP",e.Events.CATALOG_CHANGED="FACETEDEDIT-CATALOG-CHANGED",e.Window={initialize:function(){this.width=jQuery(window).width(),this.height=jQuery(window).height();var e=this;jQuery(window).on("resize",(function(){e.width_change(),e.height_change()}));var t=jQuery("a:has(img#icon-full_screen)");t.length&&e.toggle_fullscreen(t)},width_change:function(){var t=jQuery(window).width();t!=this.width&&(this.width=t,jQuery(e.Events).trigger(e.Events.WINDOW_WIDTH_CHANGED,{width:t}))},height_change:function(){var t=jQuery(window).height();t!=this.height&&(this.height=t,jQuery(e.Events).trigger(e.Events.WINDOW_HEIGHT_CHANGED,{height:t}))},toggle_fullscreen:function(t){t.attr("href","#"),t.on("click",(function(){var t=window.toggleFullScreenMode;return t&&(t(),jQuery(e.Events).trigger(e.Events.WINDOW_WIDTH_CHANGED)),!1}))}},e.FormMessage={initialize:function(){var t=this,i=jQuery("#faceted-edit-widgets-ajax"),d=jQuery("<dl>").addClass("portalMessage").attr("id","faceted-portal-status-message").append(jQuery("<dt>").text("Info")),a=jQuery("<dd>").attr("id","faceted-portal-status-message-area"),r=jQuery("<span>").addClass("ui-icon").addClass("ui-icon-close").attr("title","Close message").html(" ").css({float:"right",margin:"0.5em"});d.on("click",(function(){t.msg.hide("slide",{direction:"down"})})),d.append(r).append(a),i.prepend(d),this.msg=d,this.msg_area=a,this.msg.hide();var s=jQuery("<div>");s.attr("id","faceted-portal-status-message-lock"),s.css("margin","0px"),i.prepend(s),this.lock=jQuery("#faceted-portal-status-message-lock",i),this.lock.dialog({modal:!0,closeOnEscape:!1,autoOpen:!1,draggable:!1,resize:!1,dialogClass:"faceted-loading-overlay"}),this.lock.html(e.loading),jQuery(e.Events).on(e.Events.AJAX_START,(function(e,i){t.start(i.msg)})),jQuery(e.Events).on(e.Events.AJAX_STOP,(function(e,i){t.stop(i.msg)}))},start:function(e){this.lock.dialog("open"),this.update(e)},stop:function(e){this.lock.dialog("close"),this.update(e)},update:function(e,t){t||(t="success"),this.msg.removeClass().addClass(t),this.msg_area.html(e),e?this.msg.show("slide",{direction:"down"}):this.msg.hide("slide",{direction:"down"})},custom_message:function(e,t){var i=jQuery("#"+t+" .faceted-add-widget-dialog-msg");if(!i.length){var d=jQuery("<span>");d.attr("class","portalMessage faceted-add-widget-dialog-msg"),d.css("display","none"),d.html(e),jQuery("#"+t).append(d)}(i=jQuery("#"+t+" .faceted-add-widget-dialog-msg")).fadeIn("slow",(function(){i.fadeOut("slow")}))}},e.FormPosition={initialize:function(){this.query={}},submit:function(t){this.update(),jQuery(e.Events).trigger(e.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(t,this.query,(function(t){jQuery(e.Events).trigger(e.Events.POSITION_UPDATED),jQuery(e.Events).trigger(e.Events.AJAX_STOP,{msg:t})}))},update:function(){var e=this;e.query={},e.query.redirect="",e.query.updatePosition_button="Change",jQuery("#wposition option").each((function(){var t=jQuery(this).val();e.query[t]=[],jQuery("#faceted-"+t+"-column div.faceted-widget").each((function(){var i=jQuery(this).attr("id").split("_")[0];e.query[t].push(i)}))}))}},e.FormWidgets={initialize:function(){this.form=jQuery("#faceted-edit-widgets");var t=this.form;jQuery(document).ajaxError((function(){jQuery(t).html("<h3>This site encountered an error trying to fulfill your request</h3><p>If the error persists please contact the site maintainer. Thank you for your patience.</p>"),jQuery(e.Events).trigger(e.Events.AJAX_STOP,{msg:"Error"})})),jQuery(".faceted-edit-fieldset").hide(),this.action=this.form.attr("action"),this.form.css("display","block"),this.form.css("clear","both"),this.form.html(e.loading),this.update();var i=this;jQuery("#confirm-delete-dialog").dialog({bgiframe:!0,autoOpen:!1,modal:!0,dialogClass:"faceted-ui-dialog",buttons:{Yes:function(){var e=jQuery("strong",jQuery(this)).attr("id"),t=e.split("_")[0];jQuery("#"+e).slideUp((function(){i.delete_widget(t),jQuery("#"+e).remove()})),jQuery(this).dialog("close")},No:function(){jQuery(this).dialog("close")}},create:function(){jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonset button").first().addClass("context btn btn-danger"),jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonset button").last().addClass("standalone btn btn-secondary")}}),jQuery(e.Events).on(e.Events.RELOAD_WIDGETS,(function(){i.update()}))},update:function(){var t=this,i=new Date;i=i.getTime(),jQuery(e.Events).trigger(e.Events.AJAX_START,{msg:"Refreshing ..."}),jQuery.get(e.BASEURL+"@@faceted_widgets",{nocache:i},(function(i){t.form.html(i),jQuery("#faceted-results").html(t.background_text("Results here",{"padding-top":"2em","padding-bottom":"2em"})),jQuery("div.faceted-widget").show(),jQuery(".faceted-drag-drop").sortable({items:".faceted-widget",connectWith:".faceted-drag-drop",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.7,delay:300,cursor:"crosshair",tolerance:"pointer",update:function(i,d){if(!d.sender){var a=d.item.parent();jQuery(a).hasClass("faceted-widgets")&&e.FormPosition.submit(t.action)}}}),jQuery(".faceted-widgets .ui-widget-header").disableSelection(),jQuery("div.faceted-widget").on("dblclick",(function(){var e=jQuery(this).attr("id");t.edit_widget(e)})),jQuery("div.faceted-widget input[type=submit]").on("click",(function(){return!1})),jQuery("div.faceted-widget a").on("click",(function(){return!1}));var d=jQuery("<span>");d.attr("title","Add widget here"),d.text(" + "),d.attr("class","ui-icon ui-icon-plus ui-corner-all"),jQuery(".faceted-widgets").each((function(){var t=jQuery(this),i=t.attr("id").split("---"),a=i[0],r=i[1],s=d.clone();s.on("click",(function(){var t=jQuery("#faceted-edit-addwidget");return jQuery("#wposition",t).val(a),jQuery("#wsection",t).val(r),t.dialog("open"),e.FormAddWidgets.wtype_update(e.FormAddWidgets.wtype.val()),!1}));var n=jQuery("<div>");n.addClass("faceted-add-button"),n.append(s),t.prepend(n)})),jQuery(".faceted-widget").each((function(){var e=jQuery(this).attr("id");jQuery(this).attr("title","Click and drag to change widget position");var i=e.split("_")[0],d=jQuery("#"+e+" legend");d.hide();var a=jQuery("<div>");a.attr("class","ui-widget-header");var r=jQuery("<div>");r.attr("title","Delete widget"),r.css("float","right"),r.attr("class","ui-icon ui-icon-trash"),r.html("x"),r.on("click",(function(){var t=jQuery("#confirm-delete-dialog"),i=jQuery("strong",t);i.attr("id",e),i.text(d.text()),jQuery("#confirm-delete-dialog").dialog("open")}));var s=jQuery("<div>");s.attr("title","Edit widget"),s.css("float","right"),s.attr("class","ui-icon ui-icon-pencil"),s.html("e"),s.on("click",(function(){t.edit_widget(i)}));var n=jQuery("<div>"),c="ui-icon-unlocked";jQuery("#"+e).hasClass("faceted-widget-hidden")?(n.attr("title","Show widget"),c="ui-icon-locked"):n.attr("title","Hide widget"),n.css("float","right"),n.attr("class","ui-icon"),n.addClass(c),n.html("h"),n.on("click",(function(){t.hide_button_click(e,i)}));var o=jQuery("<div>");o.html(d.html()),a.append(r),a.append(s),a.append(n),a.append(o),d.after(a)})),e.Widgets={},jQuery(e.Events).trigger(e.Events.INITIALIZE_WIDGETS),jQuery(e.Events).trigger(e.Events.AJAX_STOP,{msg:"Interface refreshed"})}))},background_text:function(e,t){var i=jQuery("<div>");return i.html(e),i.attr("class","faceted-empty-column"),t&&i.css(t),i},delete_widget:function(t){var i={};i.path=t,i.deleteWidget_button="Delete",i.redirect="",jQuery.post(this.action,i,(function(t){jQuery(e.Events).trigger(e.Events.AJAX_STOP,{msg:t})}))},edit_widget:function(t){e.FormEditWidget.edit(t)},hide_button_click:function(t,i){var d=jQuery("#"+t),a=e.BASEURL+"@@faceted_configure",r={redirect:"",updateCriterion_button:"Save"};r.cid=i,d.hasClass("faceted-widget-hidden")?(this.show_widget(t),r["faceted."+i+".hidden-empty-marker"]=1):(this.hide_widget(t),r["faceted."+i+".hidden"]="selected"),jQuery.post(a,r,(function(t){jQuery(e.Events).trigger(e.Events.AJAX_STOP,{msg:t})}))},hide_widget:function(e){var t=jQuery("#"+e+" div.ui-icon-unlocked");t.attr("title","Show widget"),t.removeClass("ui-icon-unlocked"),t.addClass("ui-icon-locked"),jQuery("#"+e).addClass("faceted-widget-hidden")},show_widget:function(e){var t=jQuery("#"+e+" div.ui-icon-locked");t.attr("title","Hide widget"),t.removeClass("ui-icon-locked"),t.addClass("ui-icon-unlocked"),jQuery("#"+e).removeClass("faceted-widget-hidden")}},e.FormEditWidget={initialize:function(){this.query="",this.cid=null;var t=this,i=jQuery(".faceted-edit-widget-dialog");i.length||((i=jQuery("<form>")).attr("class","faceted-edit-widget-dialog"),i.attr("title","Edit widget"),i.attr("id","faceted-edit-widget-dialog"),jQuery("#faceted-edit-widgets-ajax").append(i)),this.form=jQuery(".faceted-edit-widget-dialog"),this.form.dialog({bgiframe:!0,modal:!0,autoOpen:!1,dialogClass:"faceted-ui-dialog",buttons:{Save:function(){e.FormValidator.validate(t.form)&&(t.submit(),jQuery(this).dialog("close"))},Cancel:function(){jQuery(this).dialog("close")}},create:function(){jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonset button").first().addClass("context btn btn-primary"),jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonset button").last().addClass("standalone btn btn-secondary")},close:function(){e.FormValidator.clear(t.form),t.form.html("")}})},edit:function(t){var i=this;i.cid=t.split("_")[0];var d={};d.criterion=t,i.form.html(e.loading),i.form.dialog("open"),jQuery.get(e.BASEURL+"@@faceted_schema",d,(function(t){i.form.html(t);var d=".field-"+i.cid+"-faceted-"+i.cid;jQuery(d+"-default").remove();var a=jQuery(d+"-index select"),r=jQuery(d+"-operator select");a.length&&r.length&&(r=r.clone(),jQuery(e.Events).trigger(e.Events.CATALOG_CHANGED,{cid:i.cid,catalog:a,operator:r}),a.on("change",(function(){jQuery(e.Events).trigger(e.Events.CATALOG_CHANGED,{cid:i.cid,catalog:a,operator:r})})));var s=jQuery(".faceted-widget-edit",i.form);jQuery("ul",s).addClass("formTabs").show(),jQuery("li",s).addClass("formTab");try{s.tabs()}catch(e){jQuery("ul",s).tabs("div.panes > div")}}))},submit:function(){var t=e.BASEURL+"@@faceted_configure";return this.update_query(),jQuery(e.Events).trigger(e.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(t,this.query,(function(t){jQuery(e.Events).trigger(e.Events.AJAX_STOP,{msg:t}),jQuery(e.Events).trigger(e.Events.RELOAD_WIDGETS,{msg:t})})),!1},update_query:function(){this.query="cid="+this.cid,this.query+="&redirect=&updateCriterion_button=Save&",this.query+=this.form.serialize()}},e.FormAddWidgets={initialize:function(){this.query="",this.form=jQuery("#faceted-edit-addwidget");var t=this;jQuery("#faceted-edit-addwidget").dialog({bgiframe:!0,modal:!0,autoOpen:!1,dialogClass:"faceted-ui-dialog",buttons:{Add:function(){e.FormValidator.validate(t.form)&&(t.submit(t.form),jQuery(this).dialog("close"))},Cancel:function(){jQuery(this).dialog("close")}},create:function(){jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonset button").first().addClass("context btn btn-primary"),jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonset button").last().addClass("standalone btn btn-secondary")},close:function(){e.FormValidator.clear(t.form),t.details.html("")}}),this.wtype=jQuery("#wtype"),this.details=jQuery("#faceted-widget-details"),this.form.on("submit",(function(e){return t.submit(t.form,e)})),this.wtype.on("change",(function(e){return t.wtype_change(this,e)})),jQuery("#faceted-edit-addwidget input[type=submit]").hide(),jQuery("#faceted-field-wposition").hide(),jQuery("#faceted-field-wsection").hide(),jQuery("#faceted-widget-type .field",this.form).css("float","left");var i=jQuery("<div>");i.html("&nbsp;"),i.css("clear","both"),jQuery("#faceted-widget-type",this.form).after(i)},wtype_change:function(t){e.FormValidator.clear(this.form),this.wtype_update(jQuery(t).val())},wtype_update:function(t){var i={criterion:"addformcriterion_widget"};i.widget=t;var d=this;jQuery.get(e.BASEURL+"@@faceted_schema",i,(function(t){e.FormMessage.custom_message("Loading...","faceted-widget-type"),d.details.html(t);var i=".field-c0-faceted-c0";jQuery(i+"-default").hide();var a=jQuery(i+"-index select"),r=jQuery(i+"-operator select");a.length&&r.length&&(r=r.clone(),a.on("change",(function(){jQuery(e.Events).trigger(e.Events.CATALOG_CHANGED,{cid:"c0",catalog:a,operator:r})}))),jQuery("#c0-layout-header").remove(),jQuery("#c0-layout-tab").remove();var s=jQuery(".faceted-widget-edit",d.details);jQuery("ul",s).attr("class","formTabs").show(),jQuery("li",s).attr("class","formTab");try{s.tabs()}catch(e){jQuery("ul",s).tabs("div.panes > div")}}))},submit:function(t){return this.update_query(),jQuery(e.Events).trigger(e.Events.AJAX_START,{msg:"Adding ..."}),jQuery.post(t.attr("action"),this.query,(function(t){jQuery(e.Events).trigger(e.Events.AJAX_STOP,{msg:t}),jQuery(e.Events).trigger(e.Events.RELOAD_WIDGETS,{msg:t})})),!1},update_query:function(){this.query="redirect=&addPropertiesWidget_button=Add&",this.query+=this.form.serialize(),console.log(this.query)}},e.FormImportExport={initialize:function(){jQuery(".faceted-exportimport-fieldset").hide(),this.form=jQuery(".faceted-exportimport-fieldset form"),this.form.on("submit",(function(){return!1}));var t=this;jQuery("input[type=submit]",this.form).each((function(){var e=jQuery(this),i=e.clone();i.on("click",(function(){"export_button"==i.attr("name")&&t.export_xml()})),jQuery("#faceted-edit-widgets-ajax").prepend(i),e.remove()}));var i=jQuery("#import_file");i.ajaxfileupload({action:this.form.attr("action"),params:{redirect:"",import_button:"Import"},valid_extensions:["xml"],onComplete:function(t){return i.val(""),!t.status&&t.message?(e.FormMessage.update(t.message,"error"),!1):t.startsWith&&t.startsWith("ERROR")?(e.FormMessage.update(t,"error"),!1):(jQuery(e.Events).trigger(e.Events.RELOAD_WIDGETS,{msg:t}),!0)}}),jQuery("#import_button").css("cursor","pointer").on("click",(function(){i.trigger("click")}))},export_xml:function(){var e=this.form.attr("action");return e+="?"+jQuery.param({redirect:"",export_button:"Export"}),window.open(e,"_blank")}},e.FormValidator={validate:function(e){this.clear();var t=jQuery("<div>");t.attr("class","dialog-error-header ui-state-error ui-corner-all"),t.attr("id","form-validator-errors"),e.prepend(t);var i=!0;return(i=i&&this.validate_numbers(e))&&this.validate_required(e)},validate_numbers:function(e){var t=jQuery("#"+jQuery(e).attr("id")+" input[type=text]"),i=!0,d=this;return jQuery.each(t,(function(){var t=jQuery(this);if(-1!=jQuery(this).attr("name").indexOf(":int")){var a=t.val();(a=parseInt(a,10))||0===a?t.val(a):(t.addClass("ui-state-error"),d.error_message(e,t,"Invalid number"),i=!1)}})),i},validate_required:function(e){var t=!0,i=jQuery("div.field:has(span.required) :input",jQuery(e)),d=this;return jQuery.each(i,(function(){var i=jQuery(this);i.val()||(i.addClass("ui-state-error"),d.error_message(e,i,"Value required"),t=!1)})),t},error_message:function(e,t,i){var d=jQuery("#form-validator-errors"),a=jQuery("<span>");a.attr("class","ui-icon ui-icon-alert"),a.css({float:"left","margin-right":"0.3em"}),d.append(a);var r=jQuery(t).attr("id").split("_")[1],s=jQuery("label[for="+r+"]");if(s.length){var n=jQuery("<strong>");n.text(s.text()+": "),d.append(n)}d.append(i),d.append('<div style="clear: both" />')},clear:function(){jQuery(".ui-state-error").removeClass("ui-state-error"),jQuery(".submitting").removeClass(".submitting"),jQuery("#form-validator-errors").remove()}},e.FormSections={initialize:function(){this.initialized=!1,this.context=null,this.selected=null;var t=this;jQuery(e.Events).on(e.Events.INITIALIZE_WIDGETS,(function(){t.update()}))},update:function(){this.initialized?(jQuery(".faceted-section-header").remove(),this.selected.removeClass("ui-tabs-selected"),this.selected.click()):this.first_initialize()},first_initialize:function(){var e=this;this.initialized=!0;var t=jQuery(".faceted-column");if(t.length){t=jQuery(t[0]);var i=jQuery(".faceted-section-header",t);if(i.length){this.sections=i.clone(),jQuery(".faceted-section-header").remove();var d=jQuery("<div>");d.addClass("faceted-section-tabs");var a=jQuery("<ul>").addClass("formTabs");this.sections.each((function(){var t=jQuery(this),i=t.attr("id").split("---")[1],d=jQuery("<li>");d.attr("id","section-tabs-"+i),d.attr("class","faceted-drag-drop formTab"),d.on("click",(function(){e.tab_clicked(this,i)}));var r=jQuery("<a>");r.text(t.attr("title")),d.append(r),a.append(d),e.selected||(e.selected=d)})),d.append(a),jQuery("#faceted-edit-widgets-ajax").after(d),this.context=d,this.selected.click(),jQuery("li",this.context).sortable({items:".faceted-widget",connectWith:".faceted-drag-drop",placeholder:"ui-state-highlight",forcePlaceholderSize:!1,opacity:.7,delay:300,cursor:"crosshair",tolerance:"pointer",receive:function(t,i){var d=jQuery(this);d.hasClass("ui-tabs-selected")?jQuery(i.sender).sortable("cancel"):e.receive_widget(i.item,d)}})}}},tab_clicked:function(e,t){if(this.selected=jQuery(e),this.selected.hasClass("ui-tabs-selected"))return!1;var i=jQuery("li",this.context);return i.removeClass("ui-tabs-selected"),this.selected.addClass("ui-tabs-selected"),jQuery("a",i).removeClass("selected"),jQuery("a",this.selected).addClass("selected"),"all"==t?(jQuery("div.faceted-widgets").show(),!1):(jQuery("div.faceted-widgets").hide(),jQuery("div.faceted-"+t+"-widgets").show(),!1)},receive_widget:function(t,i){t=jQuery(t),i=jQuery(i),t.remove();var d=t.attr("id").split("_")[0],a=i.attr("id").replace("section-tabs-","");this.selected=i;var r=e.BASEURL+"@@faceted_configure",s={redirect:"",updateCriterion_button:"Save",cid:d};s[d+"_section"]=a,jQuery(e.Events).trigger(e.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(r,s,(function(t){jQuery(e.Events).trigger(e.Events.AJAX_STOP,{msg:t}),jQuery(e.Events).trigger(e.Events.RELOAD_WIDGETS,{msg:t})}))}},e.Catalog={initialize:function(){this.types={};var t=this;jQuery.getJSON(e.BASEURL+"@@faceted.catalog.types.json",{},(function(e){t.types=e})),jQuery(e.Events).on(e.Events.CATALOG_CHANGED,(function(e,i){t.handle_change(i.catalog,i.operator,i.cid)}))},get:function(e){return this.types[e]},handle_change:function(e,t,i){var d=jQuery("#faceted-"+i+"-operator"),a=e.val(),r=this.get(a),s=r?r.operator:["or"];d.empty(),jQuery("option",t).each((function(){var e=jQuery(this).attr("value");-1!=jQuery.inArray(e,s)&&d.append(jQuery(this).clone())}))}},e.FormPage={initialize:function(){this.cookie_id="faceted-config-disable-ajax";var t=!0;jQuery.cookie&&("disable"===jQuery.cookie(this.cookie_id)&&(t=!1),t?this.add_ajax_button("Disable AJAX UI","configure_faceted.html","disable"):this.add_ajax_button("Enable AJAX UI","configure_faceted.html",null)),t?(e.FormAddWidgets.initialize(),e.FormImportExport.initialize(),e.FormWidgets.initialize(),e.FormMessage.initialize(),e.FormPosition.initialize(),e.FormEditWidget.initialize(),e.Window.initialize(),e.FormSections.initialize(),e.Catalog.initialize()):jQuery("#faceted-edit-select-all-items").css("display","inline")},add_ajax_button:function(e,t,i){var d=jQuery("<span>"),a=this;d.html("X"),i?d.attr("class","ui-icon ui-icon-extlink"):d.attr("class","ui-icon ui-icon-newwin"),d.attr("title",e).addClass("faceted-ajax").on("click",(function(){jQuery.cookie(a.cookie_id,i),window.location.href=t})),jQuery(".documentFirstHeading").before(d)}},e.Load=function(t,i){i&&(e.BASEURL=i),e.FormPage.initialize(),window.Calendar&&(window.Calendar.prototype.callCloseHandler=function(){this.onClose&&this.onClose(this),this.hideShowCovered();var t=this.params.inputField.id;return!!(t=t.split("_")[2])&&(e.Widgets[t].set_default(),!1)})},e.Unload=function(){},jQuery(window).on("unload",(function(){jQuery("body").find(".faceted-edit-fieldset").length&&e.Unload()})),jQuery((function(t){var i=jQuery("body").find(".faceted-edit-fieldset");i.length&&e.Load(t,i.data("baseurl"))}))},904:function(){FacetedEdit.AlphabeticalWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.letters=jQuery("span",this.widget),this.selected=jQuery(".faceted_letter_selected",this.widget);var t=this;this.letters.on("click",(function(){t.letter_click(this)}))},FacetedEdit.AlphabeticalWidget.prototype={letter_click:function(e){this.set_default(e)},letter_unselect:function(e){jQuery(e).removeClass("faceted_letter_selected"),this.selected=[]},letter_select:function(e){this.letter_unselect(this.letters),jQuery(e).addClass("faceted_letter_selected"),"all"!=jQuery(e).attr("id").split("-")[1]&&(this.selected=[e])},set_default:function(e){var t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid;var i=jQuery(e).attr("id").split("-")[1],d="";return this.selected.length&&(d=jQuery(this.selected[0]).attr("id").split("-")[1]),i==d?(this.letter_select(jQuery("#"+this.wid+"-all"),this.widget),i=""):this.letter_select(e),"all"==i&&(i=""),t["faceted."+this.wid+".default"]=i,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})})),!1}},FacetedEdit.initializeAlphabeticalWidget=function(){jQuery("div.faceted-alphabetic-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.AlphabeticalWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeAlphabeticalWidget)},239:function(){FacetedEdit.AutocompleteWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.button=jQuery("input[type=submit]",this.widget),this.input=jQuery("#"+this.wid),this.selected=this.input;var t=this;this.button.on("click",(function(){t.set_default(this)})),this.input.on("change",(function(){t.set_default(this)}))},FacetedEdit.AutocompleteWidget.prototype={set_default:function(){this.selected=this.input;var e=this.selected.val(),t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid,t["faceted."+this.wid+".default"]=e,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeAutocompleteWidget=function(){jQuery("div.faceted-autocomplete-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.AutocompleteWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeAutocompleteWidget)},893:function(){FacetedEdit.CheckboxesWidget=function(e){var t=this;this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.fieldset=jQuery(".widget-fieldset",this.widget),this.elements=jQuery("input[type=checkbox]",this.widget),this.selected=jQuery("form input[type=checkbox]:checked",this.widget),this.boolean=this.widget.hasClass("faceted-boolean-widget"),this.maxitems=parseInt(jQuery("span",this.widget).text(),10),this.maxitems&&this.fieldset.collapsible({maxitems:this.maxitems,more:this.widget.data("more"),less:this.widget.data("less")}),t.operatorValue=t.widget.data("operator"),t.operator=t.widget.find(".faceted-operator a"),t.operator.length&&(t.operatorValue=t.operator.data("value"),t.operator.text(t.operator.data(t.operatorValue)),t.operator.on("click",(function(e){e.preventDefault(),"or"===t.operatorValue?(t.operatorValue="and",t.operator.text(t.operator.data("and"))):(t.operatorValue="or",t.operator.text(t.operator.data("or"))),t.set_default(this)})));var i=this;this.elements.on("click",(function(){i.set_default(this)})),this.count()},FacetedEdit.CheckboxesWidget.prototype={count:function(){this.widget.hasClass("faceted-count")&&jQuery("li",this.widget).each((function(){var e=jQuery(this),t=Math.floor(100*Math.random()),i=jQuery("span",e);i.length||(e.append(jQuery("<span>")),i=jQuery("span",e)),i.text("("+t+")")}))},set_default:function(){var e={redirect:"",updateCriterion_button:"Save"};e.cid=this.wid,this.selected=this.widget.find("input[type=checkbox]:checked");var t="";this.selected.each((function(e){e>0&&(t+="\n"),t+=jQuery(this).val()})),this.boolean?t?e["faceted."+this.wid+".default"]=t:e["faceted."+this.wid+".default-empty-marker"]=1:(e["faceted."+this.wid+".default"]=t,e["faceted."+this.wid+".operator"]=this.operatorValue),jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",e,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeCheckboxesWidget=function(){jQuery("div.faceted-checkboxes-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.CheckboxesWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeCheckboxesWidget)},56:function(){FacetedEdit.DateWidget=function(e){var t=this;t.wid=e,t.widget=jQuery("#"+e+"_widget"),t.select_from=jQuery("select[name=from]",this.widget),t.select_to=jQuery("select[name=to]",this.widget),t.select_from.on("change",(function(){t.set_default(t.select_from,t.select_to)})),t.select_to.on("change",(function(){t.set_default(t.select_from,t.select_to)})),this.selected=[]},FacetedEdit.DateWidget.prototype={set_default:function(e,t){this.sync_ui();var i,d=e.val(),a=t.val();i="now-past"===d&&"now_future"===a?"":d+"=>"+a;var r={redirect:"",updateCriterion_button:"Save"};r.cid=this.wid,r["faceted."+this.wid+".default"]=i,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",r,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))},sync_ui:function(){var e;this.select_from.find("option").attr("disabled",!1),this.select_to.find("option").attr("disabled",!1),e=!1;var t=this.select_from.val();this.select_to.find("option").each((function(){if(jQuery(this).attr("disabled",!0),!e&&this.value===t)return e=!0,!1})),e=!1;var i=this.select_to.val();this.select_from.find("option").each((function(){this.value===i&&(e=!0),e&&jQuery(this).attr("disabled",!0)}))}},FacetedEdit.initializeDateWidget=function(){jQuery("div.faceted-date-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.DateWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeDateWidget)},202:function(){FacetedEdit.DateRangeWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.yearRange=jQuery("input[name=calYearRange]",this.widget).val(),this.start=jQuery("input[name=start]",this.widget),this.end=jQuery("input[name=end]",this.widget),this.usePloneFormat=jQuery("input[name=usePloneFormat]",this.widget).val(),this.usePloneFormat="True"==this.usePloneFormat,this.dateFormat=jQuery("input[name=dateFormat]",this.widget).val();var t=this;this.start.datepicker({changeMonth:!0,changeYear:!0,dateFormat:this.dateFormat,yearRange:this.yearRange,onSelect:function(e){t.force_range(),t.set_default(e)}}),this.end.datepicker({changeMonth:!0,changeYear:!0,dateFormat:this.dateFormat,yearRange:this.yearRange,onSelect:function(e){t.set_default(e)}}),this.start.on("change",(function(){t.force_range(),t.set_default(this)})),this.end.on("change",(function(){t.set_default(this)})),this.start.val()&&t.force_range()},FacetedEdit.DateRangeWidget.prototype={force_range:function(){var e=this.start.datepicker("getDate");e&&this.end.datepicker("option","minDate",e)},set_default:function(){var e=this.start.val(),t=this.end.val();if(!(!e&&t||e&&!t)){var i="";if(e&&t){var d,a;if(this.usePloneFormat?(d=jQuery.datepicker.parseDate(this.dateFormat,e),a=jQuery.datepicker.parseDate(this.dateFormat,t)):(d=new Date(e.replace(/-/g,"/")),a=new Date(t.replace(/-/g,"/"))),a<d)return void jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:"End Date should be greater than Start date"});i=e+"=>"+t}var r={redirect:"",updateCriterion_button:"Save"};r.cid=this.wid,r["faceted."+this.wid+".default"]=i,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",r,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}}},FacetedEdit.initializeDateRangeWidget=function(){jQuery("div.faceted-daterange-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.DateRangeWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeDateRangeWidget)},67:function(){FacetedEdit.DebugWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.query_area=jQuery("dd.debug-query pre",this.widget),this.after_area=jQuery("dd.debug-after pre",this.widget),this.config_area=jQuery("dd.debug-config pre",this.widget),this.count_area=jQuery("dd.debug-count pre",this.widget),jQuery("dd",this.widget).hide(),jQuery("dt",this.widget).each((function(){var e=jQuery(this),t=e.attr("class"),i=e.parent("dl"),d=jQuery("<span>").addClass("ui-icon ui-icon-plus");d.on("click",(function(){var e=jQuery(this);jQuery("dd."+t,i).toggle(),e.hasClass("ui-icon-minus")?(e.removeClass("ui-icon-minus"),e.addClass("ui-icon-plus")):(e.removeClass("ui-icon-plus"),e.addClass("ui-icon-minus"))})),e.prepend(d)}));var t=this;jQuery(FacetedEdit.Events).on(FacetedEdit.Events.AJAX_STOP,(function(e,i){t.update(i)}))},FacetedEdit.DebugWidget.prototype={update:function(){var e=this,t={};t.debugger=this.wid,t.mode="edit",jQuery.get(FacetedEdit.BASEURL+"@@faceted.widget.debug.query",t,(function(t){"[]"==t?jQuery(".debug-query",e.widget).hide():jQuery("dt.debug-query",e.widget).show(),e.query_area.text(t)})),jQuery.get(FacetedEdit.BASEURL+"@@faceted.widget.debug.after",t,(function(t){"[]"==t?jQuery(".debug-after",e.widget).hide():jQuery("dt.debug-after",e.widget).show(),e.after_area.text(t)})),jQuery.get(FacetedEdit.BASEURL+"@@faceted.widget.debug.criteria",t,(function(t){"[]"==t?jQuery(".debug-config",e.widget).hide():jQuery("dt.debug-config",e.widget).show(),e.config_area.text(t)})),jQuery.get(FacetedEdit.BASEURL+"@@faceted.widget.debug.counters",t,(function(t){"[]"==t?jQuery(".debug-count",e.widget).hide():jQuery("dt.debug-count",e.widget).show(),e.count_area.text(t)}))}},FacetedEdit.initializeDebugWidget=function(){jQuery("div.faceted-debug-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.DebugWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeDebugWidget)},905:function(){FacetedEdit.ETagWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.input=jQuery("#"+this.wid),this.selected=this.input,jQuery("form",this.widget).on("submit",(function(){return!1}));var t=this;this.input.on("change",(function(){t.set_default(this)}))},FacetedEdit.ETagWidget.prototype={set_default:function(){this.selected=this.input;var e=this.selected.val(),t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid,t["faceted."+t.cid+".default"]=e,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeETagWidget=function(){jQuery("div.faceted-etag-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.ETagWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeETagWidget)},671:function(){FacetedEdit.MultiSelectWidget=function(e){var t=this;this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.title=this.widget.find("legend").html(),this.elements=jQuery("option",this.widget),this.select=jQuery("#"+this.wid),this.multiple=!!this.select.attr("multiple"),this.placeholder=this.widget.data("placeholder"),this.closeOnSelect=this.widget.data("closeonselect"),this.ajax=this.widget.data("ajax"),this.ajax?this.select.select2({placeholder:this.placeholder,closeOnSelect:this.closeOnSelect,allowClear:!0,multiple:this.multiple,ajax:{url:this.ajax,dataType:"json",data:function(e){return{q:e}},results:function(e){return{results:e.items}}}}):this.select.select2({placeholder:this.placeholder,closeOnSelect:this.closeOnSelect,allowClear:!0}),t.operatorValue=t.widget.data("operator"),t.operator=t.widget.find(".faceted-operator a"),t.operator.length&&(t.operatorValue=t.operator.data("value"),t.operator.text(t.operator.data(t.operatorValue)),t.operator.on("click",(function(e){e.preventDefault(),"or"===t.operatorValue?(t.operatorValue="and",t.operator.text(t.operator.data("and"))):(t.operatorValue="or",t.operator.text(t.operator.data("or"))),t.set_default(this)})));var i=this;this.select.on("change",(function(){i.set_default(this)})),this.count()},FacetedEdit.MultiSelectWidget.prototype={count:function(){this.widget.hasClass("faceted-count")&&this.elements.each((function(){var e=jQuery(this),t=Math.floor(100*Math.random()),i=e.attr("title");i+=" ("+t+")",e.html(i)}))},set_default:function(){var e="";this.multiple?jQuery(this.select.val()).each((function(t,i){t>0&&(e+="\n"),e+=i})):e=this.select.val();var t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid,t["faceted."+this.wid+".default"]=e,t["faceted."+this.wid+".operator"]=this.operatorValue,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeMultiSelectWidget=function(){jQuery("div.faceted-multiselect-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.MultiSelectWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeMultiSelectWidget)},875:function(){FacetedEdit.PathWidget=function(e){var t=this;t.wid=e,t.widget=jQuery(`#${e}_widget`),t.tree=new FacetedTree.JsTree(t.wid,t.widget,"edit"),t.initialize()},FacetedEdit.PathWidget.prototype={initialize:function(){var e=this;e.form=e.widget.find("form"),e.input=e.widget.find("input"),e.selected=e.input,e.form.on("submit",(function(){return e.set_default(e.input),!1})),jQuery(FacetedTree.Events).on(FacetedTree.Events.CHANGED,(function(){e.set_default(e.input)}))},set_default:function(e){var t=this;t.selected=e;var i=t.selected.val(),d={redirect:"",updateCriterion_button:"Save",cid:t.wid,[`faceted.${t.wid}.default`]:i};jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",d,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializePathWidget=function(){jQuery("div.faceted-path-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.PathWidget(e)}))},jQuery((function(){jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializePathWidget)}))},637:function(){FacetedEdit.RadioWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.fieldset=jQuery(".widget-fieldset",this.widget),this.elements=jQuery("input[type=radio]",this.widget),this.selected=jQuery("input[type=radio]:checked",this.widget),this.maxitems=parseInt(jQuery("span",this.widget).text(),10),this.maxitems&&this.fieldset.collapsible({maxitems:this.maxitems,more:this.widget.data("more"),less:this.widget.data("less")});var t=this;this.elements.on("click",(function(){t.set_default(this)})),this.count()},FacetedEdit.RadioWidget.prototype={count:function(){this.widget.hasClass("faceted-count")&&jQuery("li",this.widget).each((function(){var e=jQuery(this),t=Math.floor(100*Math.random()),i=jQuery("span",e);i.length||(e.append(jQuery("<span>")),i=jQuery("span",e)),i.text("("+t+")")}))},set_default:function(e){if(this.selected.val()!=jQuery(e).val()){var t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid,this.selected=jQuery("input[type=radio]:checked",this.widget);var i=this.selected.val();t["faceted."+this.wid+".default"]=i,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}}},FacetedEdit.initializeRadioWidget=function(){jQuery("div.faceted-radio-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.RadioWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeRadioWidget)},506:function(){FacetedEdit.RangeWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.start=jQuery("input[name=start]",this.widget),this.end=jQuery("input[name=end]",this.widget);var t=this;this.start.on("change",(function(){t.set_default(this)})),this.end.on("change",(function(){t.set_default(this)}))},FacetedEdit.RangeWidget.prototype={set_default:function(){var e=this.start.val(),t=this.end.val();if(!(!e&&t||e&&!t)){var i="";if(e&&t){if(t<e)return void jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:"End Date should be greater than Start date"});i=e+"=>"+t}var d={redirect:"",updateCriterion_button:"Save"};d.cid=this.wid,d["faceted."+this.wid+".default"]=i,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",d,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}}},FacetedEdit.initializeRangeWidget=function(){jQuery("div.faceted-range-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.RangeWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeRangeWidget)},799:function(){FacetedEdit.ResultsFilterWidget=function(e){var t=this;t.wid=e,t.widget=jQuery("#"+e+"_widget"),t.form=jQuery("form",t.widget),t.input=jQuery("#"+t.wid),t.selected=t.input,t.form.on("submit",(function(){return t.set_default(t.input),!1})),t.input.on("change",(function(){t.set_default(this)}))},FacetedEdit.ResultsFilterWidget.prototype={set_default:function(){var e=this;e.selected=e.input;var t=e.selected.val(),i={redirect:"",updateCriterion_button:"Save"};i.cid=e.wid,i["faceted."+e.wid+".default"]=t,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",i,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeResultsFilterWidget=function(){jQuery("div.faceted-resultsfilter-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.ResultsFilterWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeResultsFilterWidget)},638:function(){FacetedEdit.ResultsPerPageWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.elements=jQuery("option",this.widget),this.select=jQuery("#"+this.wid);var t=this;this.select.on("change",(function(){t.set_default(this)}))},FacetedEdit.ResultsPerPageWidget.prototype={set_default:function(){var e=this.select.val(),t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid,t["faceted."+this.wid+".default"]=e,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeResultsPerPageWidget=function(){jQuery("div.faceted-resultsperpage-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.ResultsPerPageWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeResultsPerPageWidget)},511:function(){FacetedEdit.SelectWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.elements=jQuery("option",this.widget),this.select=jQuery("#"+this.wid),this.value=this.select.val();var t=this;this.select.on("change",(function(){t.set_default(this)})),this.count()},FacetedEdit.SelectWidget.prototype={count:function(){this.widget.hasClass("faceted-count")&&this.elements.each((function(){var e=jQuery(this),t=Math.floor(100*Math.random()),i=e.attr("title");i+=" ("+t+")",e.html(i)}))},set_default:function(){var e=this.select.val(),t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid,t["faceted."+this.wid+".default"]=e,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeSelectWidget=function(){jQuery("div.faceted-select-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.SelectWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeSelectWidget)},473:function(){FacetedEdit.SortingWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.reverse=jQuery("#"+this.wid+"_reversed"),this.elements=jQuery("option",this.widget),this.select=jQuery("#"+this.wid),this.value=this.select.val();var t=this;this.select.on("change",(function(){t.set_default(this)})),this.reverse.on("click",(function(){t.set_default(this)}))},FacetedEdit.SortingWidget.prototype={set_default:function(){var e=this.select.val();this.reverse.is(":checked")&&(e+="(reverse)");var t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid,t["faceted."+this.wid+".default"]=e,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeSortingWidget=function(){jQuery("div.faceted-sorting-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.SortingWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeSortingWidget)},530:function(){FacetedEdit.TagsCloudWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.type="tagscloud",this.tags=jQuery("li",this.widget),this.selected=jQuery(".faceted-tag-selected",this.widget),this.config={},this.initialize();var t=this;this.tags.on("click",(function(){t.tag_click(this)}))},FacetedEdit.TagsCloudWidget.prototype={initialize:function(){var e=jQuery("#"+this.wid+"-cloud",this.widget).text();e=e||"list";var t=jQuery("#"+this.wid+"-sizemin",this.widget).text();t=(t=parseInt(t,10))||10;var i=jQuery("#"+this.wid+"-sizemax",this.widget).text();i=(i=parseInt(i,10))||20;var d=jQuery("#"+this.wid+"-colormin",this.widget).text(),a=jQuery("#"+this.wid+"-colormax",this.widget).text(),r=jQuery("#"+this.wid+"-height",this.widget).text();r=(r=parseInt(r,10))||200,r="list"==e?"auto":r,this.config={type:e,sizemin:t,sizemax:i,height:r,colormin:d,colormax:a},this.count(),this.update()},update:function(){jQuery("#"+this.wid,this.widget).tagcloud(this.config)},count:function(){this.widget.hasClass("faceted-count")&&this.tags.each((function(){var e=jQuery(this),t=e.text();t=t.replace(/\s\(\d+\)/,""),t+=" ("+e.attr("value")+")",e.html(t)}))},tag_click:function(e){this.set_default(e)},unselect:function(e){jQuery(e).removeClass("faceted-tag-selected"),this.selected=[]},select:function(e){this.unselect(this.tags),jQuery(e).addClass("faceted-tag-selected"),"all"!=jQuery(e).attr("id").replace(this.wid,"")&&(this.selected=[e])},set_default:function(e){var t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid;var i=jQuery(e).attr("id").replace(this.wid,"");i=i.replace(/_-_/g," ").replace(/_--_/g,"/");var d="";this.selected.length&&(d=(d=jQuery(this.selected[0]).attr("id").replace(this.wid,"")).replace(/_-_/g," ").replace(/_--_/g,"/")),i==d?(this.select(jQuery("#"+this.wid+"all",this.widget)),i=""):this.select(e),"all"==i&&(i=""),t["faceted."+this.wid+".default"]=i,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeTagsCloudWidget=function(){jQuery("div.faceted-tagscloud-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.TagsCloudWidget(e)}))},FacetedEdit.resizeTagsCloudWidgets=function(){jQuery.each(FacetedEdit.Widgets,(function(e){var t=FacetedEdit.Widgets[e];if("tagscloud"==t.type){var i=t.widget.width();jQuery("ul",t.widget).width(i-30),t.update()}}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeTagsCloudWidget),jQuery(FacetedEdit.Events).on(FacetedEdit.Events.POSITION_UPDATED,FacetedEdit.resizeTagsCloudWidgets),jQuery(FacetedEdit.Events).on(FacetedEdit.Events.WINDOW_WIDTH_CHANGED,FacetedEdit.resizeTagsCloudWidgets)},211:function(){FacetedEdit.TalWidget=function(e){var t=this;t.wid=e,t.widget=jQuery("#"+e+"_widget"),t.form=jQuery("form",t.widget),t.input=jQuery("#"+t.wid),t.selected=t.input,t.form.on("submit",(function(){return t.set_default(t.input),!1})),t.input.on("change",(function(){t.set_default(this)}))},FacetedEdit.TalWidget.prototype={set_default:function(){var e=this;e.selected=e.input;var t=e.selected.val(),i={redirect:"",updateCriterion_button:"Save"};i.cid=e.wid,i["faceted."+e.wid+".default"]=t,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",i,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeTalWidget=function(){jQuery("div.faceted-tal-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.TalWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeTalWidget)},830:function(){FacetedEdit.TextWidget=function(e){this.wid=e,this.widget=jQuery("#"+e+"_widget"),this.button=jQuery("input[type=submit]",this.widget),this.input=jQuery("#"+this.wid),this.selected=this.input;var t=this;this.button.on("click",(function(){t.set_default(this)})),this.input.on("change",(function(){t.set_default(this)}))},FacetedEdit.TextWidget.prototype={set_default:function(){this.selected=this.input;var e=this.selected.val(),t={redirect:"",updateCriterion_button:"Save"};t.cid=this.wid,t["faceted."+this.wid+".default"]=e,jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_START,{msg:"Saving ..."}),jQuery.post(FacetedEdit.BASEURL+"@@faceted_configure",t,(function(e){jQuery(FacetedEdit.Events).trigger(FacetedEdit.Events.AJAX_STOP,{msg:e})}))}},FacetedEdit.initializeTextWidget=function(){jQuery("div.faceted-text-widget").each((function(){var e=jQuery(this).attr("id");e=e.split("_")[0],FacetedEdit.Widgets[e]=new FacetedEdit.TextWidget(e)}))},jQuery(FacetedEdit.Events).on(FacetedEdit.Events.INITIALIZE_WIDGETS,FacetedEdit.initializeTextWidget)}},t={};function i(d){var a=t[d];if(void 0!==a)return a.exports;var r=t[d]={exports:{}};return e[d](r,r.exports,i),r.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var d in t)i.o(t,d)&&!i.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:t[d]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";i(610),i(904),i(239),i(893),i(56),i(202),i(67),i(905),i(671),i(875),i(637),i(506),i(799),i(638),i(511),i(473),i(530),i(211),i(830)}()}();